var W=Object.defineProperty;var x=(e,t,n)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var r=(e,t,n)=>x(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const A=document.querySelector(".game-window"),d=document.querySelector(".canvas"),g=d.getContext("2d"),m=A.getBoundingClientRect();d.height=m.height;d.width=m.width;const l=d.width,h=d.height,H=8,f=64,I=128,_=256,E=200,u=150;function w(e){return Math.floor(Math.random()*e)}class y{constructor(t,n,c,o){r(this,"x");r(this,"y");r(this,"dx");r(this,"dy");r(this,"w");r(this,"h");r(this,"img");r(this,"type");r(this,"loaded");this.x=t,this.y=n,this.dx=0,this.dy=50,this.w=H,this.h=f,this.type=c,this.loaded=!1,this.img=new Image,this.img.src=o,this.img.onload=()=>{this.loaded=!0,this.draw()}}updateImage(t){this.img.src=t}draw(){this.loaded&&g.drawImage(this.img,this.x,this.y,this.w,this.h)}moveInY(){this.y+=this.dy}moveInX(){this.x+=this.dx}}function p(){const e=w(2);let t=0;switch(e){case 0:t=f;break;case 1:t=I;break;case 2:t=_;break}return t}function L(){const e=w(l/2),n=l/4+e+E;return n>l*3/4?n-l/2:n}function G(e){const t=[];for(let n=0;n<e;++n){const c=L(),o=new y(c,0,"normal","./images/normal-wall.png"),s=p(),a=h-s-u*(n+1);o.y=a,o.h=s,t.push(o)}return t}const S=document.querySelector(".game-window"),i=G(4);i.forEach(e=>e.draw());console.log(i);S.addEventListener("click",()=>{if(g.clearRect(0,0,l,h),i[i.length-1].y>u){const e=p(),t=i[i.length-1].y-u-e,n=new y(L(),t,"normal","./images/normal-wall.png");n.h=e,i.push(n)}i.forEach(e=>{e.y+=10,e.draw(),e.y>h&&(i.shift(),i[0]&&(i[0].y+=10,i[0].draw()),console.log(i))})});
